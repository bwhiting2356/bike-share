<ion-header>

  <ion-navbar>
    <ion-title>Search Result</ion-title>
  </ion-navbar>

</ion-header>
<div class="flex-container">
  <div id="map">
    <google-map *ngIf="result"
      [origin]="result.origin.coords"
      [destination]="result.destination.coords"
      [stationStart]="result.stationStart.coords"
      [stationEnd]="result.stationEnd.coords"
      [walking1Points]="result.walking1Travel.points"
      [walking2Points]="result.walking2Travel.points"
                [bicyclingPoints]="result.bicyclingTravel.points">
    </google-map>
  </div>
  <div id="search" *ngIf="result">
    <ion-content padding-horizontal>
      <div class="container">
        <div class="trip-details">
          <div id="departureTime" class="time">{{ result.departureTime | date:"h:mm a" }}</div>
          <div id="originIcon" class="icon">
            <img src="assets/imgs/origin.svg" alt="">
          </div>
          <div id="originAddress" class="address">{{ result.origin.address }}</div>
          <div id="walkingDots1" class="icon">
            <img
              *ngFor="let i of [1, 2, 3]"
              src="assets/imgs/walk-dot.svg" alt="">
          </div>
          <div id="walkingTravelInfo1" class="travel-info">
            <ion-icon name="walk"></ion-icon>
            <span>Walk {{ result.walking1Travel.time }} min ({{ result.walking1Travel.distance}} ft)</span>
          </div>
          <div id="reservation1Time" class="time">{{ result.stationStart.time | date:"h:mm a" }}</div>
          <div id="bikeReservationLine" class="icon">
            <div class="line">
              <img id="dot-1" src="assets/imgs/station.svg" alt="">
              <img id="dot-2" src="assets/imgs/station.svg" alt="">
            </div>
          </div>
          <div id="reservation1Desc" class="reservation">Bike pickup reservation</div>
          <div id="reservation1Address" class="address">{{ result.stationStart.address}}</div>
          <div
            id="reservation1Price"
            class="price"
            [ngClass]="{positive: result.stationStart.price > 0}">
            {{ result.stationStart.price | currency:'USD':true }}
          </div>
          <div id="bikeTravelInfo" class="travel-info">
            <ion-icon name="bicycle"></ion-icon>
            <span>Ride {{ result.bicyclingTravel.time }} min ({{ result.bicyclingTravel.distance}} ft)</span>
          </div>
          <div
            id="bikePrice"
            class="price"
            [ngClass]="{positive: result.bicyclingPrice > 0}">
            {{ result.bicyclingPrice | currency:'USD':true }}</div>
          <div id="reservation2Time" class="time">{{ result.stationEnd.time | date:'h:mm a'}}</div>
          <div id="reservation2Desc" class="reservation">Bike dropoff reservation</div>
          <div id="reservation2Address" class="address">{{ result.stationEnd.address }}</div>
          <div
            id="reservation2Price"
            class="price"
            [ngClass]="{positive: result.stationEnd.price > 0}">
            {{ result.stationEnd.price | currency:'USD':true }}
          </div>
          <div id="walkingDots2" class="icon">
            <img
              *ngFor="let i of [1, 2, 3, 4]"
              src="assets/imgs/walk-dot.svg" alt="">
          </div>
          <div id="walkingTravelInfo2" class="travel-info">
            <ion-icon name="walk"></ion-icon>
            <span>Walk {{ result.walking2Travel.time }} min ({{ result.walking2Travel.distance }} ft)</span>
          </div>
          <div id="arrivalTime" class="time">{{ result.arrivalTime | date:'h:mm a'}}</div>
          <div id="destinationIcon" class="icon">
            <img src="assets/imgs/destination.svg" alt="">
          </div>
          <div id="destinationAddress" class="address">{{ result.destination.address }}</div>
        </div>
        <div class="summary">
          <span id="travel-time">{{ totalTime  | time }}</span>
          <span id="travel-distance">{{ totalDistance | distance }}</span>
          <span id="total-cost">Total cost: {{ totalPrice | currency:'USD':true }}</span>
        </div>
      </div>

      <ion-list>
        <button
          ion-button
          block
          [disabled]="disableButton"
          (click)="submitSearch()">
          Book this trip
        </button>
      </ion-list>
    </ion-content>
  </div>
</div>
