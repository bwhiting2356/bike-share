<ion-header>

  <ion-navbar>
    <ion-title>Search Result</ion-title>
  </ion-navbar>

</ion-header>
<ion-content>

  <div class="flex-container">
    <div id="map">
      <google-map *ngIf="trip"
                  [origin]="trip.data.origin.coords"
                  [destination]="trip.data.destination.coords"
                  [stationStart]="trip.data.stationStart.coords"
                  [stationEnd]="trip.data.stationEnd.coords"
                  [walking1Points]="trip.data.walking1Travel.points"
                  [bicyclingPoints]="trip.data.bicyclingTravel.points"
                  [walking2Points]="trip.data.walking2Travel.points"
      >
      </google-map>
    </div>
    <div id="search" *ngIf="trip">
      <ion-content padding-horizontal>
        <div class="container">
          <div class="trip-details">
            <div id="departureTime" class="time">{{ trip.data.departureTime | date:"h:mm a" }}</div>
            <div id="originIcon" class="icon">
              <img src="assets/imgs/origin.svg" alt="">
            </div>
            <div id="originAddress" class="address">{{ trip.data.origin.address }}</div>
            <div id="walkingDots1" class="icon">
              <img
                *ngFor="let i of [1, 2, 3]"
                src="assets/imgs/walk-dot.svg" alt="">
            </div>
            <div id="walkingTravelInfo1" class="travel-info">
              <ion-icon name="walk"></ion-icon>
              <span>Walk {{ trip.data.walking1Travel.minutes | time }} ({{ trip.data.walking1Travel.distance | distance }})</span>
            </div>
            <div id="reservation1Time" class="time">{{ trip.data.stationStart.time | date:"h:mm a" }}</div>
            <div id="bikeReservationLine" class="icon">
              <div class="line">
                <img id="dot-1" src="assets/imgs/station.svg" alt="">
                <img id="dot-2" src="assets/imgs/station.svg" alt="">
              </div>
            </div>
            <div id="reservation1Desc" class="reservation">Bike pickup reservation</div>
            <div id="reservation1Address" class="address">{{ trip.data.stationStart.address}}</div>
            <div
              id="reservation1Price"
              class="price"
              [ngClass]="{positive: trip.data.stationStart.price > 0}">
              {{ trip.data.stationStart.price | currency:'USD':true }}
            </div>
            <div id="bikeTravelInfo" class="travel-info">
              <ion-icon name="bicycle"></ion-icon>
              <span>Ride {{ trip.data.bicyclingTravel.minutes | time }} ({{ trip.data.bicyclingTravel.distance | distance }})</span>
            </div>
            <div
              id="bikePrice"
              class="price"
              [ngClass]="{positive: trip.data.bicyclingTravel.price > 0}">
              {{ trip.data.bicyclingTravel.price | currency:'USD':true }}</div>
            <div id="reservation2Time" class="time">{{ trip.data.stationEnd.time | date:'h:mm a'}}</div>
            <div id="reservation2Desc" class="reservation">Bike dropoff reservation</div>
            <div id="reservation2Address" class="address">{{ trip.data.stationEnd.address }}</div>
            <div
              id="reservation2Price"
              class="price"
              [ngClass]="{positive: trip.data.stationEnd.price > 0}">
              {{ trip.data.stationEnd.price | currency:'USD':true }}
            </div>
            <div id="walkingDots2" class="icon">
              <img
                *ngFor="let i of [1, 2, 3, 4]"
                src="assets/imgs/walk-dot.svg" alt="">
            </div>
            <div id="walkingTravelInfo2" class="travel-info">
              <ion-icon name="walk"></ion-icon>
              <span>Walk {{ trip.data.walking2Travel.minutes | time }} ({{ trip.data.walking2Travel.distance  | distance }})</span>
            </div>
            <div id="arrivalTime" class="time">{{ trip.data.arrivalTime | date:'h:mm a'}}</div>
            <div id="destinationIcon" class="icon">
              <img src="assets/imgs/destination.svg" alt="">
            </div>
            <div id="destinationAddress" class="address">{{ trip.data.destination.address }}</div>
          </div>
          <div class="summary">
            <span id="travel-time">{{ trip.totalTime  | time }}</span>
            <span id="travel-distance">{{ trip.totalDistance | distance }}</span>
            <span id="total-cost">
              {{ priceMessage }}: <span [ngClass]="{positive: trip.totalPrice > 0}">{{ trip.totalPrice | currency:'USD':true }}</span>
            </span>
          </div>
        </div>

        <ion-list>
          <button
            ion-button
            block
            [disabled]="disableButton"
            (click)="submitSearch()">
            Book this trip
          </button>
        </ion-list>
      </ion-content>
    </div>
  </div>

</ion-content>
